{"version":3,"sources":["webpack:///src/app/donation-before-registration/donation-before-registration.component.ts","webpack:///src/app/donation-before-registration/donation-before-registration.component.html","webpack:///src/app/donation-list-before-registration/donation-list-before-registration-routing.module.ts","webpack:///src/app/donation-list-before-registration/donation-list-before-registration.component.ts","webpack:///src/app/donation-list-before-registration/donation-list-before-registration.component.html","webpack:///src/app/donation-list-before-registration/donation-list-before-registration.module.ts"],"names":["DonationBeforeRegistrationComponent","_store$","_router","_facadeDonationListService","_facadeUserListService","_destroySubject$","countryName","countriesForDonation","find","country","name","select","pipe","subscribe","user","_currentDonationUser","donationDetailsMode","Boolean","makeDonation","donation","id","addMedicalPointsForCurrentUser","treeDonation","cost","navigate","deleteDonation","selectCountryMode","countryNameTitle","selectedCountryName","innerText","selectedCountry","findCurrentSelectedCountry","initDonationCurrentCountry","toggleSelectCountryMode","toggleDonationDetailsMode","selector","templateUrl","styleUrls","routes","path","component","DonationListBeforeRegistrationRoutingModule","forChild","imports","exports","DonationListBeforeRegistrationComponent","donationListBeforeRegistration","isInitedDonationListBeforeRegistration","isInitedCountriesForDonation","next","complete","DonationListBeforeRegistrationModule","declarations","providers","bootstrap"],"mappings":"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","file":"donation-list-before-registration-donation-list-before-registration-module-es5.js","sourcesContent":["import { Component, OnInit, Input } from '@angular/core';\r\nimport { Donation } from '../models/donation-list/donation';\r\nimport { FacadeServiceDonationList } from '../store/donation-list/donation-list.facade';\r\nimport { Store } from '@ngrx/store';\r\nimport { selectUser } from '../store/user-list/user-list.selectors';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { Subject } from 'rxjs';\r\nimport { User } from '../models/user-list/user';\r\nimport { Router } from '@angular/router';\r\nimport { Country } from '../models/country-list/country';\r\nimport { selectCountriesForDonation } from '../store/donation-list/donation-list.selectors';\r\nimport { FacadeServiceUserList } from '../store/user-list/user-list.facade';\r\n@Component({\r\n\tselector: 'app-donation-before-registration',\r\n\ttemplateUrl: './donation-before-registration.component.html',\r\n\tstyleUrls: ['./donation-before-registration.component.scss']\r\n})\r\nexport class DonationBeforeRegistrationComponent implements OnInit {\r\n\r\n\tprivate _destroySubject$: Subject<boolean> = new Subject();\r\n\r\n\tprivate _currentDonationUser: User;\r\n\r\n\t@Input()\r\n\tpublic donation: Donation;\r\n\r\n\tpublic donationDetailsMode: boolean;\r\n\r\n\tpublic countriesForDonation: Country[];\r\n\tpublic selectCountryMode: boolean;\r\n\r\n\tconstructor(\r\n\t\tprivate _store$: Store,\r\n\t\tprivate _router: Router,\r\n\t\tprivate _facadeDonationListService: FacadeServiceDonationList,\r\n\t\tprivate _facadeUserListService: FacadeServiceUserList\r\n\t) { }\r\n\r\n\tprivate findCurrentSelectedCountry(countryName: string): Country {\r\n\t\treturn this.countriesForDonation.find((country: Country) => country.name === countryName);\r\n\t}\r\n\r\n\tpublic ngOnInit(): void {\r\n\t\tthis._store$.select(selectUser)\r\n\t\t\t.pipe(\r\n\t\t\t\ttakeUntil(this._destroySubject$)\r\n\t\t\t).subscribe((user: User) => {\r\n\t\t\t\tthis._currentDonationUser = user;\r\n\t\t\t});\r\n\t\tthis._store$.select(selectCountriesForDonation)\r\n\t\t\t.pipe(\r\n\t\t\t\ttakeUntil(this._destroySubject$)\r\n\t\t\t).subscribe((countriesForDonation: Country[]) => {\r\n\t\t\t\tthis.countriesForDonation = countriesForDonation;\r\n\t\t\t});\r\n\t}\r\n\r\n\tpublic toggleDonationDetailsMode(): void {\r\n\t\tthis.donationDetailsMode = !this.donationDetailsMode;\r\n\t}\r\n\r\n\tpublic makeDonation(): void {\r\n\t\tif (Boolean(this._currentDonationUser)) {\r\n\t\t\tthis._facadeDonationListService.makeDonation(this.donation, this._currentDonationUser.id);\r\n\t\t\tthis._facadeUserListService.addMedicalPointsForCurrentUser(this.donation.treeDonation.cost);\r\n\t\t} else {\r\n\t\t\tthis._router.navigate(['user', 'registration']);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic deleteDonation(): void {\r\n\t\tthis._facadeDonationListService.deleteDonation(this.donation);\r\n\t}\r\n\r\n\tpublic toggleSelectCountryMode(): void {\r\n\t\tthis.selectCountryMode = !this.selectCountryMode;\r\n\t}\r\n\r\n\tpublic selectCountry(countryNameTitle: HTMLElement): void {\r\n\t\tconst selectedCountryName: string = countryNameTitle.innerText;\r\n\t\tconst selectedCountry: Country = this.findCurrentSelectedCountry(selectedCountryName);\r\n\t\tthis._facadeDonationListService.initDonationCurrentCountry(this.donation, selectedCountry);\r\n\t}\r\n\r\n}\r\n","<div class=\"-app-donation\">\r\n    <button \r\n        class=\"-app-donation__donation-button -app-donation__donation-button_delete\"\r\n        (click)=\"deleteDonation()\"></button>\r\n    <img \r\n        class=\"-app-donation__tree-image\"\r\n        src=\"{{ donation.treeDonation.tree.picture }}\">   \r\n    <div \r\n        class=\"-app-donation__country\"\r\n        [class.-app-donation__country_select-country-mode]=\"selectCountryMode\">\r\n        <div \r\n            class=\"-app-donation__country-title\"\r\n            [class.-app-donation__country-title_select-country-mode]=\"selectCountryMode\"\r\n            (click)=\"toggleSelectCountryMode()\">\r\n            <ng-container *ngIf=\"donation.country\">\r\n                {{ donation.country.name }}\r\n            </ng-container>\r\n            <ng-container *ngIf=\"!donation.country\">\r\n                select country\r\n            </ng-container>\r\n        </div>\r\n        <div \r\n            class=\"-app-donation__country-list\"\r\n            [class.-app-donation__country-list_select-country-mode]=\"selectCountryMode\"\r\n            *ngIf=\"countriesForDonation\">\r\n            <div \r\n                class=\"-app-donation__country-list-item\"\r\n                *ngFor=\"let country of countriesForDonation\"\r\n                (click)=\"selectCountry(countryNameTitle)\"\r\n                #countryNameTitle>\r\n                    {{ country.name }}\r\n            </div>\r\n            <button \r\n                class=\"-app-donation__country-list-button\"\r\n                (click)=\"toggleSelectCountryMode()\">\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <div \r\n        class=\"-app-donation__details\"\r\n        [class.-app-donation__details_donation-details-mode]=\"donationDetailsMode\"\r\n        (click)=\"toggleDonationDetailsMode()\">\r\n        <div \r\n            [class.-app-donation__details-title_invisible]=\"donationDetailsMode\"\r\n            class=\"-app-donation__details-title\">\r\n            details\r\n        </div>\r\n        <div \r\n            class=\"-app-donation__details-info\"\r\n            [class.-app-donation__details-info_visible]=\"donationDetailsMode\">\r\n            <div class=\"-app-donation__details-item  -app-donation__details-item _tree-name\">\r\n                Name: {{ donation.treeDonation.tree.name }}\r\n            </div>\r\n            <div class=\"-app-donation__details-item  -app-donation__details-item _tree-size\">\r\n                Size: {{ donation.treeDonation.tree.size }}\r\n            </div>\r\n            <div class=\"-app-donation__details-item  -app-donation__details-item _tree-environment\">\r\n                Environment: {{ donation.treeDonation.tree.environment }}\r\n            </div>\r\n            <div class=\"-app-donation__details-item  -app-donation__details-item _tree-type\">\r\n                Type: {{ donation.treeDonation.tree.type }}\r\n            </div>\r\n            <div class=\"-app-donation__details-item  -app-donation__details-item _tree-key-feature\">\r\n                Key Feature: {{ donation.treeDonation.tree.keyFeature }}\r\n            </div>\r\n            <div class=\"-app-donation__details-item  -app-donation__details-item _tree-number\">\r\n                Amount: {{ donation.treeDonation.amount}}\r\n            </div>\r\n            <div class=\"-app-donation__details-item  -app-donation__details-item _tree-cost\">\r\n                Cost: {{ donation.treeDonation.tree.cost }}\r\n            </div>\r\n            <div class=\"-app-donation__details-item  -app-donation__details-item _total-cost\">\r\n                Total Cost: {{ donation.treeDonation.cost}}\r\n            </div>\r\n            <div \r\n                class=\"-app-donation__details-item  -app-donation__details-item _country\"\r\n                *ngIf=\"donation.country\">\r\n                Country: {{ donation.country.name }}\r\n            </div> \r\n            <div \r\n                class=\"-app-donation__details-item  -app-donation__details-item _country\"\r\n                *ngIf=\"!donation.country\">\r\n                Country: not selected!\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <button \r\n        class=\"-app-donation__donation-button -app-donation__donation-button_make\"\r\n        (click)=\"makeDonation()\">\r\n        make donation\r\n    </button>\r\n</div>\r\n","import { RouterModule, Routes } from '@angular/router';\r\nimport { NgModule } from '@angular/core';\r\nimport { DonationListBeforeRegistrationComponent } from './donation-list-before-registration.component';\r\n\r\nconst routes: Routes = [\r\n\t{\r\n\t\tpath: '',\r\n\t\tcomponent: DonationListBeforeRegistrationComponent\r\n\t}\r\n];\r\n\r\n@NgModule({\r\n\timports: [RouterModule.forChild(routes)],\r\n\texports: [RouterModule]\r\n})\r\nexport class DonationListBeforeRegistrationRoutingModule {\r\n\r\n}\r\n","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport {\r\n\tselectDonationListBeforeRegistration,\r\n\tselectCountriesForDonation,\r\n\tselectIsInitedCountriesForDonation,\r\n\tselectIsInitedDonationListBeforeRegistration\r\n} from '../store/donation-list/donation-list.selectors';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { Subject } from 'rxjs';\r\nimport { Donation } from '../models/donation-list/donation';\r\nimport { Country } from '../models/country-list/country';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n\tselector: 'app-donation-list-before-registration',\r\n\ttemplateUrl: './donation-list-before-registration.component.html',\r\n\tstyleUrls: ['./donation-list-before-registration.component.scss']\r\n})\r\nexport class DonationListBeforeRegistrationComponent implements OnInit, OnDestroy {\r\n\r\n\tprivate _destroySubject$: Subject<boolean> = new Subject();\r\n\r\n\tpublic donationListBeforeRegistration: Donation[];\r\n\tpublic countriesForDonation: Country[];\r\n\r\n\tpublic isInitedDonationListBeforeRegistration: boolean;\r\n\tpublic isInitedCountriesForDonation: boolean;\r\n\r\n\tconstructor(\r\n\t\tprivate _store$: Store,\r\n\t\tprivate _router: Router\r\n\t) { }\r\n\r\n\tpublic ngOnInit(): void {\r\n\t\tthis._store$.select(selectDonationListBeforeRegistration)\r\n\t\t\t.pipe(\r\n\t\t\t\ttakeUntil(this._destroySubject$)\r\n\t\t\t).subscribe((donationListBeforeRegistration: Donation[]) => {\r\n\t\t\t\tthis.donationListBeforeRegistration = donationListBeforeRegistration;\r\n\t\t\t});\r\n\t\tthis._store$.select(selectCountriesForDonation)\r\n\t\t\t.pipe(\r\n\t\t\t\ttakeUntil(this._destroySubject$)\r\n\t\t\t).subscribe((countriesForDonation: Country[]) => {\r\n\t\t\t\tthis.countriesForDonation = countriesForDonation;\r\n\t\t\t});\r\n\r\n\t\tthis._store$.select(selectIsInitedDonationListBeforeRegistration)\r\n\t\t\t.pipe(\r\n\t\t\t\ttakeUntil(this._destroySubject$)\r\n\t\t\t).subscribe((isInitedDonationListBeforeRegistration: boolean) => {\r\n\t\t\t\tthis.isInitedDonationListBeforeRegistration = isInitedDonationListBeforeRegistration;\r\n\t\t\t});\r\n\t\tthis._store$.select(selectIsInitedCountriesForDonation)\r\n\t\t\t.pipe(\r\n\t\t\t\ttakeUntil(this._destroySubject$)\r\n\t\t\t).subscribe((isInitedCountriesForDonation: boolean) => {\r\n\t\t\t\tthis.isInitedCountriesForDonation = isInitedCountriesForDonation;\r\n\t\t\t});\r\n\t}\r\n\r\n\tpublic ngOnDestroy(): void {\r\n\t\tthis._destroySubject$.next(true);\r\n\t\tthis._destroySubject$.complete();\r\n\t}\r\n\r\n\tpublic switchRouterToTreeList(): void {\r\n\t\tthis._router.navigate(['trees']);\r\n\t}\r\n\r\n\tpublic switchRouterToCountryList(): void {\r\n\t\tthis._router.navigate(['countries']);\r\n\t}\r\n\r\n}\r\n","<div class=\"-app-donation-list\">\r\n    <ng-container *ngIf=\"isInitedDonationListBeforeRegistration && isInitedCountriesForDonation\">\r\n        <app-donation-before-registration \r\n            class=\"-app-donation-list__donation\"\r\n            \r\n            *ngFor=\"let donation of donationListBeforeRegistration\" \r\n            [donation]=\"donation\">\r\n        </app-donation-before-registration>\r\n    </ng-container>\r\n    <ng-container *ngIf=\"!isInitedDonationListBeforeRegistration || !isInitedCountriesForDonation\">\r\n        <div *ngTemplateOutlet=\"!(isInitedDonationListBeforeRegistration || isInitedCountriesForDonation) \r\n            ? notInitedAllSettings \r\n            : notInitedOneSetting\">\r\n        </div>\r\n    </ng-container>\r\n    \r\n    <ng-template #notInitedAllSettings>\r\n        <div \r\n            class=\"-app-donation-list__start\" \r\n            *ngIf=\"!isInitedDonationListBeforeRegistration\">\r\n            <h2 class=\"-app-donation-list__start-title\">\r\n                Before donation you need to choose any tree and country for donation\r\n            </h2>\r\n            <h3 class=\"-app-donation-list__start-sub-title\">\r\n                Click on the button below to choose it!\r\n            </h3>\r\n            <div class=\"-app-donation-list__button-list\">\r\n                <button \r\n                    class=\"-app-donation-list__start-button\" \r\n                    (click)=\"switchRouterToCountryList()\">\r\n                    choose countries\r\n                </button>\r\n                <button \r\n                    class=\"-app-donation-list__start-button\" \r\n                    (click)=\"switchRouterToTreeList()\">\r\n                    choose trees\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </ng-template>\r\n    <ng-template #notInitedOneSetting>\r\n        <div \r\n            class=\"-app-donation-list__start\" \r\n            *ngIf=\"!isInitedDonationListBeforeRegistration\">\r\n            <h2 class=\"-app-donation-list__start-title\">\r\n                Before donation you need to choose any tree for donation\r\n            </h2>\r\n            <h3 class=\"-app-donation-list__start-sub-title\">\r\n                Click on the button below to choose it!\r\n            </h3>\r\n            <button \r\n                class=\"-app-donation-list__start-button\" \r\n                (click)=\"switchRouterToTreeList()\">\r\n                choose\r\n            </button>\r\n        </div>\r\n        <div \r\n            class=\"-app-donation-list__start\" \r\n            *ngIf=\"!isInitedCountriesForDonation\">\r\n            <h2 class=\"-app-donation-list__start-title\">\r\n                Before donation you need to choose any country for donation\r\n            </h2>\r\n            <h3 class=\"-app-donation-list__start-sub-title\">\r\n                Click on the button below to choose it!\r\n            </h3>\r\n            <button \r\n                class=\"-app-donation-list__start-button\" \r\n                (click)=\"switchRouterToCountryList()\">\r\n                choose\r\n            </button>\r\n        </div>\r\n    </ng-template>\r\n</div>","\r\nimport { DonationListBeforeRegistrationComponent } from './donation-list-before-registration.component';\r\nimport { DonationBeforeRegistrationComponent } from '../donation-before-registration/donation-before-registration.component';\r\nimport { NgModule } from '@angular/core';\r\nimport { DonationListBeforeRegistrationRoutingModule } from './donation-list-before-registration-routing.module';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n@NgModule({\r\n\tdeclarations: [\r\n\t\tDonationListBeforeRegistrationComponent,\r\n\t\tDonationBeforeRegistrationComponent,\r\n\t],\r\n\timports: [\r\n\t\tDonationListBeforeRegistrationRoutingModule,\r\n\t\tCommonModule\r\n\t],\r\n\tproviders: [],\r\n\tbootstrap: [DonationListBeforeRegistrationComponent]\r\n})\r\nexport class DonationListBeforeRegistrationModule {\r\n\r\n}\r\n"]}