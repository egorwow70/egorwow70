{"version":3,"sources":["./src/app/donation-before-registration/donation-before-registration.component.ts","./src/app/donation-before-registration/donation-before-registration.component.html","./src/app/donation-list-before-registration/donation-list-before-registration-routing.module.ts","./src/app/donation-list-before-registration/donation-list-before-registration.component.ts","./src/app/donation-list-before-registration/donation-list-before-registration.component.html","./src/app/donation-list-before-registration/donation-list-before-registration.module.ts"],"names":[],"mappings":"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","file":"donation-list-before-registration-donation-list-before-registration-module-es2015.js","sourcesContent":["import { Component, OnInit, Input } from '@angular/core';\r\nimport { Donation } from '../models/donation-list/donation';\r\nimport { FacadeServiceDonationList } from '../store/donation-list/donation-list.facade';\r\nimport { Store } from '@ngrx/store';\r\nimport { selectUser } from '../store/user-list/user-list.selectors';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { Subject } from 'rxjs';\r\nimport { User } from '../models/user-list/user';\r\nimport { Router } from '@angular/router';\r\nimport { Country } from '../models/country-list/country';\r\nimport { selectCountriesForDonation } from '../store/donation-list/donation-list.selectors';\r\nimport { FacadeServiceUserList } from '../store/user-list/user-list.facade';\r\n@Component({\r\n\tselector: 'app-donation-before-registration',\r\n\ttemplateUrl: './donation-before-registration.component.html',\r\n\tstyleUrls: ['./donation-before-registration.component.scss']\r\n})\r\nexport class DonationBeforeRegistrationComponent implements OnInit {\r\n\r\n\tprivate _destroySubject$: Subject<boolean> = new Subject();\r\n\r\n\tprivate _currentDonationUser: User;\r\n\r\n\t@Input()\r\n\tpublic donation: Donation;\r\n\r\n\tpublic donationDetailsMode: boolean;\r\n\r\n\tpublic countriesForDonation: Country[];\r\n\tpublic selectCountryMode: boolean;\r\n\r\n\tconstructor(\r\n\t\tprivate _store$: Store,\r\n\t\tprivate _router: Router,\r\n\t\tprivate _facadeDonationListService: FacadeServiceDonationList,\r\n\t\tprivate _facadeUserListService: FacadeServiceUserList\r\n\t) { }\r\n\r\n\tprivate findCurrentSelectedCountry(countryName: string): Country {\r\n\t\treturn this.countriesForDonation.find((country: Country) => country.name === countryName);\r\n\t}\r\n\r\n\tpublic ngOnInit(): void {\r\n\t\tthis._store$.select(selectUser)\r\n\t\t\t.pipe(\r\n\t\t\t\ttakeUntil(this._destroySubject$)\r\n\t\t\t).subscribe((user: User) => {\r\n\t\t\t\tthis._currentDonationUser = user;\r\n\t\t\t});\r\n\t\tthis._store$.select(selectCountriesForDonation)\r\n\t\t\t.pipe(\r\n\t\t\t\ttakeUntil(this._destroySubject$)\r\n\t\t\t).subscribe((countriesForDonation: Country[]) => {\r\n\t\t\t\tthis.countriesForDonation = countriesForDonation;\r\n\t\t\t});\r\n\t}\r\n\r\n\tpublic toggleDonationDetailsMode(): void {\r\n\t\tthis.donationDetailsMode = !this.donationDetailsMode;\r\n\t}\r\n\r\n\tpublic makeDonation(): void {\r\n\t\tif (Boolean(this._currentDonationUser)) {\r\n\t\t\tthis._facadeDonationListService.makeDonation(this.donation, this._currentDonationUser.id);\r\n\t\t\tthis._facadeUserListService.addMedicalPointsForCurrentUser(this.donation.treeDonation.cost);\r\n\t\t} else {\r\n\t\t\tthis._router.navigate(['user', 'registration']);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic deleteDonation(): void {\r\n\t\tthis._facadeDonationListService.deleteDonation(this.donation);\r\n\t}\r\n\r\n\tpublic toggleSelectCountryMode(): void {\r\n\t\tthis.selectCountryMode = !this.selectCountryMode;\r\n\t}\r\n\r\n\tpublic selectCountry(countryNameTitle: HTMLElement): void {\r\n\t\tconst selectedCountryName: string = countryNameTitle.innerText;\r\n\t\tconst selectedCountry: Country = this.findCurrentSelectedCountry(selectedCountryName);\r\n\t\tthis._facadeDonationListService.initDonationCurrentCountry(this.donation, selectedCountry);\r\n\t}\r\n\r\n}\r\n","<div class=\"-app-donation\">\r\n    <button \r\n        class=\"-app-donation__donation-button -app-donation__donation-button_delete\"\r\n        (click)=\"deleteDonation()\"></button>\r\n    <img \r\n        class=\"-app-donation__tree-image\"\r\n        src=\"{{ donation.treeDonation.tree.picture }}\">   \r\n    <div \r\n        class=\"-app-donation__country\"\r\n        [class.-app-donation__country_select-country-mode]=\"selectCountryMode\">\r\n        <div \r\n            class=\"-app-donation__country-title\"\r\n            [class.-app-donation__country-title_select-country-mode]=\"selectCountryMode\"\r\n            (click)=\"toggleSelectCountryMode()\">\r\n            <ng-container *ngIf=\"donation.country\">\r\n                {{ donation.country.name }}\r\n            </ng-container>\r\n            <ng-container *ngIf=\"!donation.country\">\r\n                select country\r\n            </ng-container>\r\n        </div>\r\n        <div \r\n            class=\"-app-donation__country-list\"\r\n            [class.-app-donation__country-list_select-country-mode]=\"selectCountryMode\"\r\n            *ngIf=\"countriesForDonation\">\r\n            <div \r\n                class=\"-app-donation__country-list-item\"\r\n                *ngFor=\"let country of countriesForDonation\"\r\n                (click)=\"selectCountry(countryNameTitle)\"\r\n                #countryNameTitle>\r\n                    {{ country.name }}\r\n            </div>\r\n            <button \r\n                class=\"-app-donation__country-list-button\"\r\n                (click)=\"toggleSelectCountryMode()\">\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <div \r\n        class=\"-app-donation__details\"\r\n        [class.-app-donation__details_donation-details-mode]=\"donationDetailsMode\"\r\n        (click)=\"toggleDonationDetailsMode()\">\r\n        <div \r\n            [class.-app-donation__details-title_invisible]=\"donationDetailsMode\"\r\n            class=\"-app-donation__details-title\">\r\n            details\r\n        </div>\r\n        <div \r\n            class=\"-app-donation__details-info\"\r\n            [class.-app-donation__details-info_visible]=\"donationDetailsMode\">\r\n            <div class=\"-app-donation__details-item  -app-donation__details-item _tree-name\">\r\n                Name: {{ donation.treeDonation.tree.name }}\r\n            </div>\r\n            <div class=\"-app-donation__details-item  -app-donation__details-item _tree-size\">\r\n                Size: {{ donation.treeDonation.tree.size }}\r\n            </div>\r\n            <div class=\"-app-donation__details-item  -app-donation__details-item _tree-environment\">\r\n                Environment: {{ donation.treeDonation.tree.environment }}\r\n            </div>\r\n            <div class=\"-app-donation__details-item  -app-donation__details-item _tree-type\">\r\n                Type: {{ donation.treeDonation.tree.type }}\r\n            </div>\r\n            <div class=\"-app-donation__details-item  -app-donation__details-item _tree-key-feature\">\r\n                Key Feature: {{ donation.treeDonation.tree.keyFeature }}\r\n            </div>\r\n            <div class=\"-app-donation__details-item  -app-donation__details-item _tree-number\">\r\n                Amount: {{ donation.treeDonation.amount}}\r\n            </div>\r\n            <div class=\"-app-donation__details-item  -app-donation__details-item _tree-cost\">\r\n                Cost: {{ donation.treeDonation.tree.cost }}\r\n            </div>\r\n            <div class=\"-app-donation__details-item  -app-donation__details-item _total-cost\">\r\n                Total Cost: {{ donation.treeDonation.cost}}\r\n            </div>\r\n            <div \r\n                class=\"-app-donation__details-item  -app-donation__details-item _country\"\r\n                *ngIf=\"donation.country\">\r\n                Country: {{ donation.country.name }}\r\n            </div> \r\n            <div \r\n                class=\"-app-donation__details-item  -app-donation__details-item _country\"\r\n                *ngIf=\"!donation.country\">\r\n                Country: not selected!\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <button \r\n        class=\"-app-donation__donation-button -app-donation__donation-button_make\"\r\n        (click)=\"makeDonation()\">\r\n        make donation\r\n    </button>\r\n</div>\r\n","import { RouterModule, Routes } from '@angular/router';\r\nimport { NgModule } from '@angular/core';\r\nimport { DonationListBeforeRegistrationComponent } from './donation-list-before-registration.component';\r\n\r\nconst routes: Routes = [\r\n\t{\r\n\t\tpath: '',\r\n\t\tcomponent: DonationListBeforeRegistrationComponent\r\n\t}\r\n];\r\n\r\n@NgModule({\r\n\timports: [RouterModule.forChild(routes)],\r\n\texports: [RouterModule]\r\n})\r\nexport class DonationListBeforeRegistrationRoutingModule {\r\n\r\n}\r\n","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport {\r\n\tselectDonationListBeforeRegistration,\r\n\tselectCountriesForDonation,\r\n\tselectIsInitedCountriesForDonation,\r\n\tselectIsInitedDonationListBeforeRegistration\r\n} from '../store/donation-list/donation-list.selectors';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { Subject } from 'rxjs';\r\nimport { Donation } from '../models/donation-list/donation';\r\nimport { Country } from '../models/country-list/country';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n\tselector: 'app-donation-list-before-registration',\r\n\ttemplateUrl: './donation-list-before-registration.component.html',\r\n\tstyleUrls: ['./donation-list-before-registration.component.scss']\r\n})\r\nexport class DonationListBeforeRegistrationComponent implements OnInit, OnDestroy {\r\n\r\n\tprivate _destroySubject$: Subject<boolean> = new Subject();\r\n\r\n\tpublic donationListBeforeRegistration: Donation[];\r\n\tpublic countriesForDonation: Country[];\r\n\r\n\tpublic isInitedDonationListBeforeRegistration: boolean;\r\n\tpublic isInitedCountriesForDonation: boolean;\r\n\r\n\tconstructor(\r\n\t\tprivate _store$: Store,\r\n\t\tprivate _router: Router\r\n\t) { }\r\n\r\n\tpublic ngOnInit(): void {\r\n\t\tthis._store$.select(selectDonationListBeforeRegistration)\r\n\t\t\t.pipe(\r\n\t\t\t\ttakeUntil(this._destroySubject$)\r\n\t\t\t).subscribe((donationListBeforeRegistration: Donation[]) => {\r\n\t\t\t\tthis.donationListBeforeRegistration = donationListBeforeRegistration;\r\n\t\t\t});\r\n\t\tthis._store$.select(selectCountriesForDonation)\r\n\t\t\t.pipe(\r\n\t\t\t\ttakeUntil(this._destroySubject$)\r\n\t\t\t).subscribe((countriesForDonation: Country[]) => {\r\n\t\t\t\tthis.countriesForDonation = countriesForDonation;\r\n\t\t\t});\r\n\r\n\t\tthis._store$.select(selectIsInitedDonationListBeforeRegistration)\r\n\t\t\t.pipe(\r\n\t\t\t\ttakeUntil(this._destroySubject$)\r\n\t\t\t).subscribe((isInitedDonationListBeforeRegistration: boolean) => {\r\n\t\t\t\tthis.isInitedDonationListBeforeRegistration = isInitedDonationListBeforeRegistration;\r\n\t\t\t});\r\n\t\tthis._store$.select(selectIsInitedCountriesForDonation)\r\n\t\t\t.pipe(\r\n\t\t\t\ttakeUntil(this._destroySubject$)\r\n\t\t\t).subscribe((isInitedCountriesForDonation: boolean) => {\r\n\t\t\t\tthis.isInitedCountriesForDonation = isInitedCountriesForDonation;\r\n\t\t\t});\r\n\t}\r\n\r\n\tpublic ngOnDestroy(): void {\r\n\t\tthis._destroySubject$.next(true);\r\n\t\tthis._destroySubject$.complete();\r\n\t}\r\n\r\n\tpublic switchRouterToTreeList(): void {\r\n\t\tthis._router.navigate(['trees']);\r\n\t}\r\n\r\n\tpublic switchRouterToCountryList(): void {\r\n\t\tthis._router.navigate(['countries']);\r\n\t}\r\n\r\n}\r\n","<div class=\"-app-donation-list\">\r\n    <ng-container *ngIf=\"isInitedDonationListBeforeRegistration && isInitedCountriesForDonation\">\r\n        <app-donation-before-registration \r\n            class=\"-app-donation-list__donation\"\r\n            \r\n            *ngFor=\"let donation of donationListBeforeRegistration\" \r\n            [donation]=\"donation\">\r\n        </app-donation-before-registration>\r\n    </ng-container>\r\n    <ng-container *ngIf=\"!isInitedDonationListBeforeRegistration || !isInitedCountriesForDonation\">\r\n        <div *ngTemplateOutlet=\"!(isInitedDonationListBeforeRegistration || isInitedCountriesForDonation) \r\n            ? notInitedAllSettings \r\n            : notInitedOneSetting\">\r\n        </div>\r\n    </ng-container>\r\n    \r\n    <ng-template #notInitedAllSettings>\r\n        <div \r\n            class=\"-app-donation-list__start\" \r\n            *ngIf=\"!isInitedDonationListBeforeRegistration\">\r\n            <h2 class=\"-app-donation-list__start-title\">\r\n                Before donation you need to choose any tree and country for donation\r\n            </h2>\r\n            <h3 class=\"-app-donation-list__start-sub-title\">\r\n                Click on the button below to choose it!\r\n            </h3>\r\n            <div class=\"-app-donation-list__button-list\">\r\n                <button \r\n                    class=\"-app-donation-list__start-button\" \r\n                    (click)=\"switchRouterToCountryList()\">\r\n                    choose countries\r\n                </button>\r\n                <button \r\n                    class=\"-app-donation-list__start-button\" \r\n                    (click)=\"switchRouterToTreeList()\">\r\n                    choose trees\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </ng-template>\r\n    <ng-template #notInitedOneSetting>\r\n        <div \r\n            class=\"-app-donation-list__start\" \r\n            *ngIf=\"!isInitedDonationListBeforeRegistration\">\r\n            <h2 class=\"-app-donation-list__start-title\">\r\n                Before donation you need to choose any tree for donation\r\n            </h2>\r\n            <h3 class=\"-app-donation-list__start-sub-title\">\r\n                Click on the button below to choose it!\r\n            </h3>\r\n            <button \r\n                class=\"-app-donation-list__start-button\" \r\n                (click)=\"switchRouterToTreeList()\">\r\n                choose\r\n            </button>\r\n        </div>\r\n        <div \r\n            class=\"-app-donation-list__start\" \r\n            *ngIf=\"!isInitedCountriesForDonation\">\r\n            <h2 class=\"-app-donation-list__start-title\">\r\n                Before donation you need to choose any country for donation\r\n            </h2>\r\n            <h3 class=\"-app-donation-list__start-sub-title\">\r\n                Click on the button below to choose it!\r\n            </h3>\r\n            <button \r\n                class=\"-app-donation-list__start-button\" \r\n                (click)=\"switchRouterToCountryList()\">\r\n                choose\r\n            </button>\r\n        </div>\r\n    </ng-template>\r\n</div>","\r\nimport { DonationListBeforeRegistrationComponent } from './donation-list-before-registration.component';\r\nimport { DonationBeforeRegistrationComponent } from '../donation-before-registration/donation-before-registration.component';\r\nimport { NgModule } from '@angular/core';\r\nimport { DonationListBeforeRegistrationRoutingModule } from './donation-list-before-registration-routing.module';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n@NgModule({\r\n\tdeclarations: [\r\n\t\tDonationListBeforeRegistrationComponent,\r\n\t\tDonationBeforeRegistrationComponent,\r\n\t],\r\n\timports: [\r\n\t\tDonationListBeforeRegistrationRoutingModule,\r\n\t\tCommonModule\r\n\t],\r\n\tproviders: [],\r\n\tbootstrap: [DonationListBeforeRegistrationComponent]\r\n})\r\nexport class DonationListBeforeRegistrationModule {\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}